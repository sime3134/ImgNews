<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Projekt</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        <link type="text/css"  rel="stylesheet"  th:href="@{/style.css}" >
        <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300&display=swap" rel="stylesheet">
    </head>

    <body>
        <header>
            <h1> <img src="/static/news.png" id="logo"> NAMN</h1> 
            <h2> -Your news in pictures</h2>
        </header>

        <nav class="navbar navbar-expand-lg" id="nav">
            <div class="container-fluid">
                <a class="navbar-brand" href="/news">Home</a>              
                 <ul class="navbar-nav me-auto" >
                    <a class="nav-link ms-5  active" aria-current="page" href="/news?category=general">General</a>
                    <a class="nav-link ms-5" href="/news?category=sports">Sports</a>
                    <a class="nav-link ms-5" href="/news?category=entertainment">Entertainment</a>
                 </ul>
            </div>        
        </nav>

        <section>
            <div class="container text-right">
                <p id="numberOfTries">
                    Number of tries:
                </p>
            </div>
        </section>

        <section id="news">
            <div class="container text-center">
                <div class="row">

                    <div class="col-4">
                        <img src="" id = "newsImg0" class="newsPic">
                    </div>

                    <div class="col-4">
                        <img src="" id="newsImg1" class="newsPic">
                    </div>

                    <div class="col-4">                     
                        <img src="" id="newsImg2" class="newsPic">
                    </div> 


                </div>

                <div class="row">
                    <div class="col-4">
                        <img src="" id="newsImg3" class="newsPic">
                    </div>

                    <div class="col-4">                      
                        <img src="" id="newsImg4" class="newsPic">
                    </div>

                    <div class="col-4">                     
                        <img src="" id="newsImg5" class="newsPic">
                    </div>
                </div>  
            </div>
        </section>


               
        <button type="button" id ="myModal" class="btn btn-secondary" data-toggle="modal" data-target=".bd-example-modal-lg">Read article here</button>

        <div id="myInput" class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <h4 id="title"> </h4>
                    <p id ="article"> </p>
                </div>
            </div>
        </div>

        <section id="footer">
            <p><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-c-circle" viewBox="0 0 16 16">
                <path d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8Zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0ZM8.146 4.992c-1.212 0-1.927.92-1.927 2.502v1.06c0 1.571.703 2.462 1.927 2.462.979 0 1.641-.586 1.729-1.418h1.295v.093c-.1 1.448-1.354 2.467-3.03 2.467-2.091 0-3.269-1.336-3.269-3.603V7.482c0-2.261 1.201-3.638 3.27-3.638 1.681 0 2.935 1.054 3.029 2.572v.088H9.875c-.088-.879-.768-1.512-1.729-1.512Z"/>
              </svg> 2023</p>
        </section>

        <script>
            $('#myModal').on('shown.bs.modal', function () {
            $('#myInput').trigger('focus')
})

            let data = [(${json})];
            console.log(data);
            let img = data.imgData;

            for (let i = 0; i < img.length; i++){
                const newsImg = "data:image/png;base64," + img[i];
                document.getElementById('newsImg'+i).src = newsImg;
            };

            let articleDescscription = data.originalArticle.description;
            document.getElementById('article').innerHTML = articleDescscription; 

            let articleContent= data.originalArticle.content;
            document.getElementById('article').innerHTML = articleContent; 

            let title = data.originalArticle.title;
            document.getElementById('title').innerHTML = title;

            let numberOfTries = [(${numberOfTries})];
            document.getElementById('numberOfTries').innerHTML = numberOfTries;

        </script>

    </body>

</html>